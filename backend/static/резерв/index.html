<!DOCTYPE html>
<html lang="ру">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MellStarGameBot</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="app-container">
        <!-- Страница 1: Главная (Личный кабинет) -->
        <div id="main-page" class="page active">
            <h1>Привет, <span id="user-name">Пользователь</span>!</h1>
            <p>Зарабатывай Stars за удержание подписок. От Мелстроя: удочка для бедных!</p>
            <div class="stats">
                <h3>Твоя статистика</h3>
                <p>Уровень: <span id="level-display">1</span>/45 (Очки: <span id="points-available">0</span>)</p>
                <p>Распределено очков: <span id="points-allocated">0</span> (Слоты: <span id="slots-count">5</span>)</p>
                <p>Рефералы: <span id="referrals-count">0</span> (Разгон: <span id="boost-level">0%</span>)</p>
                <p>Бонус выплат: +<span id="payout-bonus-display">0</span> Star/чекпоинт (Итого: <span id="total-payout-display">10</span>)</p>
                <p>Купленные слоты:</p>
                <ul id="ad-slots-stats"></ul>
                <p>Активных пользователей: <span id="total-users-display">100</span></p>
            </div>
        </div>

        <!-- Страница 2: Подписки -->
        <div id="subscriptions-page" class="page">
            <h2>Страница подписок</h2>
            <div id="activation-status">До активации таймера: <span id="pending-subs">5</span> подписок</div>
            <div id="timer" class="timer hidden">В работе: <span id="timer-display">00:00:00</span></div>
            <div id="slots-container" class="slots-grid"></div>
            <div class="progress-bar">
                <h3>Прогресс к выплате</h3>
                <div id="progress-container">
                    <div id="progress-fill" style="width: 0%;"></div>
                </div>
                <p id="progress-text">0/5 чекпоинтов (0 Stars)</p>
            </div>
            <button id="invite-btn" class="btn-secondary">Пригласить друга (+ поинт реферала)</button>
            <button id="info-btn" class="btn-info">Инфо о слотах</button>
        </div>

        <!-- Страница 3: Прокачка -->
        <div id="upgrades-page" class="page">
            <h2>Прокачка аккаунта</h2>
            <div class="upgrade-section">
                <h4>Уровень</h4>
                <p>Текущий: <span id="level">1</span>/45 (с бонусом: <span id="level-with-bonus">1</span>)</p>
                <p>Доступные очки: <span id="points">0</span></p>
                <p>Распределить на слоты: <input type="number" id="slots-points" min="0" value="0" step="1"></p>
                <button id="apply-slots">Применить (+слот, +0.088 сек/тик)</button>
            </div>
            <div class="upgrade-section">
                <h4>Рефералы</h4>
                <p>Поинты: <span id="referral-points">0</span></p>
                <p>Разгон (на чекпоинт): <select id="boost-level-select">
                    <option value="0">0 (+0%)</option>
                    <option value="1">1 (+25%)</option>
                    <option value="2">2 (+50%)</option>
                    <option value="3">3 (+75%)</option>
                    <option value="4">4 (+100%)</option>
                </select></p>
                <button id="apply-boost">Применить Разгон</button>
                <p>+Уровень (от реферала lvl 1+): <input type="number" id="ref-level-boost" min="0" value="0" step="1"></p>
                <button id="apply-ref-level">Применить +уровень</button>
            </div>
            <div class="upgrade-section">
                <h4>Выплаты</h4>
                <p>Базово: 10 Stars/чекпоинт</p>
                <p>Текущий бонус: +<span id="payout-bonus">0</span></p>
                <p>Прокачать на +<input type="number" id="payout-increase" min="1" max="40" value="1" step="1"> (Стоимость: <span id="payout-cost">10</span> Stars)</p>
                <button id="buy-payout">Купить</button>
            </div>
        </div>

        <!-- Страница 4: Покупка слота -->
        <div id="buy-page" class="page">
            <h2>Покупка слота</h2>
            <div id="ad-slots-detailed" class="slots-grid"></div>
            <form id="buy-form">
                <input type="text" id="channel-name" placeholder="Название канала" required>
                <input type="url" id="channel-link" placeholder="Ссылка на канал (t.me/...)" required>
                <select id="status-select">
                    <option value="standard">Стандарт (1000 Stars/день)</option>
                    <option value="vip">VIP (5000 Stars/день, приоритет)</option>
                </select>
                <select id="shows-select">
                    <option value="100">100 показов</option>
                    <!-- Динамически JS -->
                </select>
                <select id="period-select">
                    <option value="1">1 день</option>
                    <!-- Динамически JS -->
                </select>
                <p>Показы доступны: <span id="max-shows">100</span> (по пользователям)</p>
                <p>Итого: <span id="total-cost">1000</span> Stars</p>
                <button type="submit" class="btn-primary">Оплатить Stars</button>
            </form>
        </div>

        <!-- Модальное окно информации -->
        <div id="info-modal" class="modal hidden">
            <div class="modal-content">
                <h3>Как работают слоты</h3>
                <p>Подпишись на все — таймер зелёный, Stars капают. Отписка — красный, ×2 назад. Чекпоинты спасут прогресс! VIP всегда сверху.</p>
                <button id="close-info">Закрыть</button>
            </div>
        </div>

        <!-- Нижняя навигация -->
        <div class="bottom-nav">
            <button id="main-btn" class="nav-btn active">Главная</button>
            <button id="subs-btn" class="nav-btn">Подписки</button>
            <button id="upgrades-btn" class="nav-btn">Прокачка</button>
            <button id="buy-btn" class="nav-btn">Купить слот</button>
        </div>
    </div>
    <script src="/static/script.js"></script>.
</body>
</html>