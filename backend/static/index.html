<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MellStarGame</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="/static/style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">

    <!-- Header -->
    <header class="header">
      <div class="logo">MellStarGame</div>
      <p class="welcome">Удерживай таймер — получай звёзды!</p>
    </header>

    <!-- ГЛАВНАЯ -->
    <section id="home" class="page active">
      <h1 class="greeting">Привет, <span id="username">Гость</span>!</h1>

      <div class="stats-header">
        <h2 class="stats-title">Статистика аккаунта</h2>
        <button id="statsToggleBtn" class="stats-toggle-btn active">Полная</button>
      </div>

      <div id="statsContainer">
        <div class="stats-grid">
          <div class="stat-card">
            <div class="level-header">
              Уровень <span id="level" class="neon">2</span> / 45
            </div>
            <div class="level-points">-<em>очки уровня</em>-</div>
            <div class="level-row">распределено: <span id="levelSpent" class="neon">1</span></div>
            <div class="level-row">свободно: <span id="freePoints" class="neon">1</span></div>
          </div>

          <div class="stat-card">
            <div class="label ref-title">Реферальные очки</div>
            <div class="ref-row">доступно: <span id="refPoints" class="neon">4</span></div>
            <div class="ref-row">разгон: <span id="boostLevel" class="neon">25</span></div>
          </div>

          <div class="stat-card">
            <div class="label">Слоты <span id="activeSlots">0 / 5</span></div>
            <div class="sub-text">ближайший к замене: <strong id="nextSlotTime">—</strong></div>
            <label class="notify-checkbox">
              <input type="checkbox" id="notifySlot" checked />
              <span>Уведомить</span>
            </label>
          </div>

          <div class="stat-card">
            <div class="label">Звёзд за чекпоинт:</div>
            <div class="value gold">10 ⭐</div>
            <div class="sub-text">прогресс: <span id="progressPercent">0%</span></div>
          </div>

          <div class="stat-card full-width">
            <div class="label">Скорость таймера: <span id="timerSpeed" class="pink">1,338</span> секунд</div>
            <div class="sub-text">прогресс: <span id="speedProgress">0%</span></div>
          </div>
        </div>

        <div id="collapsedStats" class="collapsed-stats">
          Ур. <span id="levelMini" class="neon">2</span>
          <span class="divider"></span>
          разгон: <span id="boostMini" class="neon">25</span>%
          <span class="divider"></span>
          Слоты <span id="slotsMini">0/5</span>
          <span class="divider"></span>
          10 ⭐
          <span class="divider"></span>
          <span id="speedMini" class="pink">1,338</span>
        </div>
      </div>

      <h3 class="stats-title" style="margin-top: 28px; text-align: center;">Статистика слотов</h3>

      <!-- Список слотов в статистике (включая кнопку удаления) -->
      <div id="adSlotsContainer"></div>

      <button class="buy-slot">Купить слот</button>
    </section>

    <!-- СЛОТЫ + ТАЙМЕР -->
    <section id="subscriptions" class="page">
      <div class="subs-controls">
        <button id="applyBoostNavBtn" class="btn-neon">Применить разгон</button>
        <button id="infoBtn" class="btn-neon">Инфо</button>
      </div>

      <div id="timerBox" class="timer-box">
        <div class="timer-label">Таймер:</div>
        <div id="timerDisplay" class="timer-display">00:00</div>
      </div>

      <div class="progress-section">
        <div class="progress-label">Прогресс к чекпоинту</div>
        <div class="progress-bar">
          <div id="progressFill" class="progress-fill initial-glow"></div>
          <div class="checkpoints">
            <div class="checkpoint passed" data-pos="0%"></div>
            <div class="checkpoint" data-pos="25%"></div>
            <div class="checkpoint" data-pos="50%"></div>
            <div class="checkpoint" data-pos="75%"></div>
            <div class="checkpoint final" data-pos="100%"></div>
          </div>
        </div>
        <div class="progress-text" id="progressText">
          <span class="current red-bold">1</span> / <span class="total neon-text">5 слотов</span>
        </div>
      </div>

      <!-- Контейнер ячеек — здесь рендерит script.js -->
      <div id="adSlotsGrid" class="slots-grid"></div>
    </section>

    <!-- ПРОКАЧКА -->
    <section id="upgrade" class="page">
      <!-- ... (не изменялось) -->
      <div class="upgrade-block">
        <div class="upgrade-header">
          <strong>Уровень <span id="currLevelDisplay">2</span> / 45</strong><br>
          <span class="small-text">Распределено: <span id="levelSpentHeader">1</span> | Свободно: <span id="freePointsHeader">1</span></span>
        </div>

        <div class="upgrade-content">
          <div class="highlight-box level-points-box">
            <p class="highlight-title pink">Распредели свободные очки!</p>
            <p class="highlight-subtitle pink">Доступно: <span id="availablePoints">1</span></p>
            <div class="level-points-controls">
              <button id="resetLevelBtn" class="btn-level pink-bg">Сбросить</button>
              <button id="addLevelBtn" class="btn-level pink-bg">Прокачать +1</button>
            </div>
          </div>

          <div class="stats-box">
            <p>отображать слотов: <strong><span class="pink">5</span> из 28</strong></p>
            <p>звёзд за чекпоинт: <strong><span class="pink">10</span>⭐ из 33</strong></p>
            <p>Таймер: ускорение сек/тик<br><strong><span class="pink">+0.089</span> из +4,005</strong></p>
          </div>

          <div class="info-text">
            <p>Каждый прокачанный уровень добавляет:</p>
            <ul>
              <li>+0.089 к базовой скорости таймера за каждый уровень.</li>
              <li>+1 звезду за каждый второй прокачанный уровень.</li>
              <li>+1 слот за каждый второй уровень.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Boost & payout блоки -->
      <!-- ... (не изменялось) -->
    </section>

    <!-- ПОКУПКА СЛОТА -->
    <section id="buy" class="page">
      <!-- ... (оставляем как есть) -->
      <h2 class="buy-title">Купить рекламный слот</h2>

      <div class="buy-form">
        <!-- форма покупки осталась прежней -->
        <div class="form-group">
          <label>платформа</label>
          <select id="platformSelect"><option value="telegram">telegram</option></select>
        </div>

        <div class="form-group">
          <label>название слота</label>
          <input type="text" id="slotName" placeholder="введите название слота" />
        </div>

        <div class="form-group">
          <label>ссылка на событие</label>
          <input type="text" id="slotLink" placeholder="введите ссылку" />
        </div>

        <div class="form-group">
          <label>тип слота</label>
          <select id="slotType">
            <option value="standard">стандарт</option>
            <option value="vip">VIP слот</option>
          </select>
        </div>

        <div class="form-group">
          <label>показы / результаты</label>
          <select id="showsSelect">
            <option value="1000">1000 подписок</option>
            <option value="2000">2000 подписок</option>
            <option value="5000">5000 подписок</option>
          </select>
        </div>

        <div class="calc-section">
          <div>платформа: Telegram <span># <span id="platformCostCalc">100</span> ⭐</span></div>
          <div>тип слота: <span id="calcType">стандарт</span> <span># <span id="typeCost">1000</span> ⭐</span></div>
          <div>показы: <span id="calcShows">1000</span> подписок <span># <span id="showsCost">500</span> ⭐</span></div>
          <div class="total-line">ИТОГО: <span id="totalCalc">1600</span> ⭐</div>
        </div>

        <div class="buy-buttons">
          <button id="resetBtn">сброс</button>
          <button id="payBtn">ОПЛАТИТЬ ⭐</button>
        </div>

        <div class="buy-footer">
          <p>#при оплате ⭐будут списаны с вашего аккаунта telegram</p>
          <p>? где и как купить звёзды <a href="#" class="buy-stars-link">купить ⭐</a></p>
        </div>
      </div>
    </section>

  </div>

  <nav class="bottom-nav">
    <button data-page="home" class="nav-item active"><span class="label">Статы<br>Аккаунт</span></button>
    <button data-page="subscriptions" class="nav-item"><span class="label">Слоты<br>Таймер</span></button>
    <button data-page="upgrade" class="nav-item"><span class="label">Прокачай<br>Таймер</span></button>
    <button data-page="buy" class="nav-item"><span class="label">Купи<br>Слоты</span></button>
  </nav>

  <script src="/static/script.js"></script>
</body>
</html>
