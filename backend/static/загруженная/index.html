<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MellStarGame</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">

    <!-- Header -->
    <header class="header">
      <div class="logo">MellStarGame</div>
      <p class="welcome">Удерживай таймер — получай звёзды!</p>
    </header>

    <!-- ГЛАВНАЯ -->
    <section id="home" class="page active">
      <h1 class="greeting">Привет, <span id="username">Гость</span>!</h1>

      <!-- ЗАГОЛОВОК + КНОПКА -->
      <div class="stats-header">
        <h2 class="stats-title">Статистика аккаунта</h2>
        <button id="statsToggleBtn" class="stats-toggle-btn active">Полная</button>
      </div>

      <!-- СТАТИСТИКА -->
      <div id="statsContainer">
        <!-- РАЗВЁРНУТАЯ -->
        <div class="stats-grid">
          <!-- 1. Уровень -->
          <div class="stat-card">
            <div class="level-header">
              Уровень <span id="level" class="neon">2</span> / 45
            </div>
            <div class="level-points">-<em>очки уровня</em>-</div>
            <div class="level-row">распределено: <span id="levelSpent" class="neon">1</span></div>
            <div class="level-row">свободно: <span id="freePoints" class="neon">1</span></div>
          </div>

          <!-- 2. Рефералы -->
          <div class="stat-card">
            <div class="label ref-title">Реферальные очки</div>
            <div class="ref-row">доступно: <span id="refPoints" class="neon">4</span></div>
            <div class="ref-row">разгон: <span id="boostLevel" class="neon">25</span>%</div>
          </div>

          <!-- 3. Слоты -->
          <div class="stat-card">
            <div class="label">Слоты <span id="activeSlots">0 / 5</span></div>
            <div class="sub-text">ближайший к замене: <strong id="nextSlotTime">—</strong></div>
            <label class="notify-checkbox">
              <input type="checkbox" id="notifySlot" checked />
              <span>Уведомить</span>
            </label>
          </div>

          <!-- 4. Звёзды -->
          <div class="stat-card">
            <div class="label">Звёзд за чекпоинт:</div>
            <div class="value gold">⭐ 10</span></div>
            <div class="sub-text">прогресс: <span id="progressPercent">0%</span></div>
          </div>

          <!-- 5. Скорость таймера -->
          <div class="stat-card full-width">
            <div class="label">Скорость таймера: <span id="timerSpeed" class="neon">1,338</span> секунд</div>
            <div class="sub-text">прогресс: <span id="speedProgress">0%</span></div>
          </div>
        </div>

        <!-- СВЁРНУТАЯ -->
        <div id="collapsedStats" class="collapsed-stats">
          Ур. <span id="levelMini" class="neon">2</span>
          <span class="divider"></span>
          разгон: <span id="boostMini" class="neon">25</span>%
          <span class="divider"></span>
          Слоты <span id="slotsMini">0/5</span>
          <span class="divider"></span>
          ⭐ <span class="gold">10</span>
          <span class="divider"></span>
          <span id="speedMini" class="neon">1,338</span>
        </div>
      </div>

      <!-- ЗАГОЛОВОК СЛОТОВ -->
      <h3 class="stats-title" style="margin-top: 28px; text-align: center;">Статистика слотов</h3>

      <!-- КУПЛЕННЫЕ СЛОТЫ -->
      <div id="adSlotsContainer">
        <div class="slot-card empty" style="justify-content: center; font-style: italic;">
          Нет купленных слотов
        </div>
      </div>

      <!-- КНОПКА КУПИТЬ -->
      <button class="buy-slot">Купить слот</button>
    </section>

    <!-- СЛОТЫ ТАЙМЕР -->
    <section id="subscriptions" class="page">
      <div class="subs-controls">
        <button id="inviteBtn" class="btn-neon">Пригласить друга</button>
        <button id="infoBtn" class="btn-neon">Инфо</button>
      </div>

      <div id="timerBox" class="timer-box">
        <div class="timer-label">Таймер:</div>
        <div id="timerDisplay" class="timer-display">00:00:00</div>
      </div>

      <div class="progress-section">
        <div class="progress-label">Прогресс к чекпоинту</div>
        <div class="progress-bar">
          <div id="progressFill" class="progress-fill"></div>
          <div class="checkpoints">
            <div class="checkpoint" data-time="0ч"></div>
            <div class="checkpoint" data-time="24ч"></div>
            <div class="checkpoint" data-time="48ч"></div>
            <div class="checkpoint" data-time="72ч"></div>
          </div>
        </div>
        <div class="progress-text" id="progressText">0 / 96 часов</div>
      </div>

      <!-- СЕТКА СЛОТОВ -->
      <div id="adSlotsGrid" class="slots-grid"></div>
    </section>

    <!-- ПРОКАЧКА -->
    <section id="upgrade" class="page">
      <h2 class="section-title">Прокачка аккаунта</h2>
      <div class="points-counter">Свободно очков: <strong class="neon" id="pointsCounter">0</strong></div>

      <div class="upgrade-tree">
        <div class="upgrade-branch">
          <h3>Скорость и слоты</h3>
          <p>Уровень: <span id="currLevel">1</span> → <input type="number" id="levelInput" min="1" max="45" value="1" /> <button id="applyLevel" class="btn-upgrade">Применить</button></p>
          <p class="info">Каждый уровень: +1 слот, +0.088 сек/тик</p>
        </div>

        <div class="upgrade-branch">
          <h3>Разгон (рефералы)</h3>
          <p>Поинты: <span id="refPointsDisplay">0</span></p>
          <p>Уровень: <span id="boostLevel">0</span>/4 (+<span id="boostPercent">0</span>%)</p>
          <button id="applyBoost" class="btn-upgrade">+1 Разгон (4 поинта)</button>
        </div>

        <div class="upgrade-branch">
          <h3>Выплаты</h3>
          <p>За чекпоинт: <span id="payoutPer">10</span> звёзд</p>
          <p>Прокачать на: <input type="number" id="payoutAdd" min="1" value="1" /> (Стоимость: <span id="payoutCost">10</span> звёзд)</p>
          <button id="buyPayout" class="btn-upgrade">Купить</button>
        </div>
      </div>
    </section>

    <!-- ПОКУПКА СЛОТА -->
    <section id="buy" class="page">
      <h2 class="section-title">Купить рекламный слот</h2>

      <div id="myAdSlots" class="slots-list"></div>

      <div class="buy-form">
        <label>Тип: 
          <select id="slotQuality">
            <option value="standard">Стандарт (1000 звёзд/день)</option>
            <option value="vip">VIP (5000 звёзд/день)</option>
          </select>
        </label>
        <label>Показов: 
          <select id="slotShows"></select>
        </label>
        <label>Дней: 
          <input type="number" id="slotDays" min="1" max="30" value="1" />
        </label>
        <div class="total-cost">Итого: <strong id="totalCost">1000</strong> звёзд</div>
        <button id="buySlotBtn" class="btn-primary">Купить слот</button>
      </div>
    </section>

  </div>

  <!-- НИЖНЕЕ МЕНЮ -->
  <nav class="bottom-nav">
    <button data-page="home" class="nav-item active"><span class="label">Статы<br>Аккаунт</span></button>
    <button data-page="subscriptions" class="nav-item"><span class="label">Слоты<br>Таймер</span></button>
    <button data-page="upgrade" class="nav-item"><span class="label">Прокачай<br>Таймер</span></button>
    <button data-page="buy" class="nav-item"><span class="label">Купи<br>Слоты</span></button>
  </nav>

  <script src="script.js"></script>
</body>
</html>